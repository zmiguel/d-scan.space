# Copy to .env and adjust values as needed.
#
# NOTE: This project has two runtime processes:
# - App (SvelteKit server)
# - Updater worker (cron jobs)
#
# -----------------------------------------------------------------------------
# Core / required
# -----------------------------------------------------------------------------

# -----------------------------------------------------------------------------
# Docker Compose helpers (not required outside docker-compose)
# -----------------------------------------------------------------------------

ADMINER_PORT=8080
ADMINER_DEFAULT_SERVER=postgres-main

POSTGRES_USER=dscanspace
POSTGRES_PASSWORD=dscanspace
POSTGRES_DB=dscanspace
POSTGRES_PORT=5432
POSTGRES_HOSTNAME=postgres-db

# PostgreSQL connection string (used by app, worker, and Drizzle CLI)
DATABASE_URL=postgresql://dscanspace:dscanspace@postgres-main:5432/dscanspace

# DB schema namespace for scans tables ("dev", "preview" or "prod")
DB_ENV=dev

# -----------------------------------------------------------------------------
# App / runtime
# -----------------------------------------------------------------------------

# Where the app listens (adapter-node)
HOST=0.0.0.0
PORT=3000

# Public origin (also used in the ESI User-Agent string)
ORIGIN=http://localhost:3000

# Max request body size (SvelteKit/adapter-node). Examples: 512K, 10M, 256M.
BODY_SIZE_LIMIT=256M

# -----------------------------------------------------------------------------
# Logging / environment
# -----------------------------------------------------------------------------

NODE_ENV=production
DEPLOYMENT_ENV=prod
LOG_LEVEL=info

# Skip Drizzle migrations on app boot (useful for worker or read-only instances)
SKIP_MIGRATIONS=false

# Used in the ESI User-Agent string to identify your deployment
AGENT=Self-Hosted

# -----------------------------------------------------------------------------
# EVE Online ESI contact info (MANDATORY!)
# -----------------------------------------------------------------------------

CONTACT_EMAIL=you@example.com
CONTACT_EVE=YourCharacterName
CONTACT_DISCORD=YourDiscord

# -----------------------------------------------------------------------------
# Updater worker (cron)
# -----------------------------------------------------------------------------

# Croner format (5-field crons). Defaults are defined in worker config as well.
# Do not change these unless you understand what you are doing.
# If you set these too low expect CCP to contact you for hammering their servers.
DYNAMIC_UPDATE_CRON=* * * * *
STATIC_UPDATE_CRON=30 11,12 * * *

# -----------------------------------------------------------------------------
# OpenTelemetry (optional)
# -----------------------------------------------------------------------------

# If set, traces/metrics are exported via OTLP (endpoint should usually include /v1/traces)
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces
OTEL_EXPORTER_OTLP_AUTHORIZATION=

# Base service name; app/worker append suffixes.
OTEL_SERVICE_NAME=d-scan.space

# Prometheus exporter port (each process binds its own port)
PROMETHEUS_PORT=9464
